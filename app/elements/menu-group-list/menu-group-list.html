<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="menu-group-list">

    <template>
        <style>
            .groupTitle {
                color: #5e5d5e;
                font-weight: 600;
                margin-left: 40px;
                height: 32px;
                transition: 0.2s;
            }

            .groupTitle:hover {
                color: #4185f6;
                margin-left: 50px;
                transition: 0.2s;
            }
        </style>

        <iron-ajax
                id="ajaxRequest"
                auto
                url="[[url]]"
                handle-as="json"
                last-response="{{response}}"></iron-ajax>

        <div class="layout vertical">
            <template is="dom-repeat" items="{{response}}">
                <span class="groupTitle">{{item.name}}</span>
            </template>
        </div>

    </template>
</dom-module>

<script>
    Polymer({
        is: 'menu-group-list',
        properties: {
            url: {
                type: String,
                computed: 'computeURL()'
            }
        },
        computeUrl: function() {
            return 'http://api.oversimplified.io/groups';
        },
        refresh: function () {
            this.$.ajaxRequest.generateRequest();
        }
    });
</script>