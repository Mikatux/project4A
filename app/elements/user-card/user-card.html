<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="user-card">

    <template>
        <style>
            :host {
                display: block;
                position: relative;
            }

            #cardMessage {
                background-color: #FFFFFF;
                margin: 0;
                padding: 0;
                width: 300px;
            }

            .avatar {
                border-radius: 2px 2px 0px 0px;
                width: 300px;
                height: 300px;
                position: relative;
                padding: 0;
                margin: 0;
            }

            #nameContainer {
                margin: 16px;
            }

            .username {
                font-size: 18px;
                text-transform: capitalize;
                font-weight: 500;
                color: var(--accent-color);
                line-height: 1.3em;
                max-width: 90%;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
            }

            .timestamp {
                font-size: 14px;
                font-weight: 300;
                color: #b5a896;
                line-height: 1.3em;
                max-width: 90%;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
            }

            #head {
                padding: 4px;
                background-color: #FDFDFD;
            }

            #name-zone {
                padding-left: 16px;
            }

        </style>
        <paper-material elevation="1" id="cardMessage" on-mouseover="mouseOver" on-mouseout="mouseOut">

            <div>
                <img src="{{item.img}}" alt="avatar" class="avatar">
            </div>

            <div id="nameContainer">
                <span class="username">{{item.name}}</span>
                <span class="username">{{item.lastname}}</span>
                <br>
                <span class="timestamp">{{computeDate(item.date)}}</span>
                <br>
            </div>

            <div>
                <br>
            </div>
        </paper-material>
    </template>

<script>
    Polymer({
        is: 'user-card',
        properties: {
            item: Object
        },
        computeDate: function(date) {
            var d = date.split("T")[0];
            var h = date.split("T")[1].substring(0, 5);

            d = new Date(d.split(':')).toString().substring(4, 15);

            return d + ", " + h;
        },
        mouseOver: function() {
            this.$.cardMessage.elevation = 3;
        },
        mouseOut: function() {
            this.$.cardMessage.elevation = 1;
        }
    });
</script>